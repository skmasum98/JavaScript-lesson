# DOM Advanced Techniques (ржбржо ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб ржЯрзЗржХржирж┐ржХ)
### тЬЕ Efficient DOM Traversal (ржжрзНрж░рзБржд DOM traversal)

**Efficient DOM Traversal** ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ **ржжрзНрж░рзБржд ржПржмржВ рж╕ржарж┐ржХржнрж╛ржмрзЗ DOM (Document Object Model) ржПрж░ ржоржзрзНржпрзЗ ржЙржкрж╛ржжрж╛ржи (Element) ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛ ржУ ржирзЗржнрж┐ржЧрзЗржЯ ржХрж░рж╛**ред
ржПржЯрж╛ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХрж╛рж░ржг ржмрзЬ ржУрзЯрзЗржмрж╕рж╛ржЗржЯрзЗ рж╣рж╛ржЬрж╛рж░ рж╣рж╛ржЬрж╛рж░ DOM ржПрж▓рж┐ржорзЗржирзНржЯ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ, рждрж╛ржЗ ржжрзНрж░рзБржд traversal ржХрж░рж▓рзЗ performance ржнрж╛рж▓рзЛ ржерж╛ржХрзЗред

---

### ЁЯза DOM Traversal ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?

HTML DOM ржПржХржЯрж┐ **ржЯрзНрж░рж┐ (ржЧрж╛ржЫрзЗрж░ ржоржд)** рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ред ржкрзНрж░рждрж┐ржЯрж┐ ржЯрзНржпрж╛ржЧ/ржПрж▓рж┐ржорзЗржирзНржЯ ржПржХрзЗржХржЯрж╛ **ржирзЛржб (node)** рж╣рж┐рж╕рзЗржмрзЗ ржЧржарж┐ржд рж╣рзЯред
рждрзБржорж┐ JavaScript ржжрж┐рзЯрзЗ DOM ржПрж░ ржнрзЗрждрж░рзЗ ржПржХ ржПрж▓рж┐ржорзЗржирзНржЯ ржерзЗржХрзЗ ржЕржирзНржп ржПрж▓рж┐ржорзЗржирзНржЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЛ тАФ ржПржЯрж╛ржХрзЗржЗ ржмрж▓рзЗ Traversalред

---

### тЬЕ ржХрж┐ржЫрзБ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг Traversal Method:

| Property/Method                  | ржмрзНржпрж╛ржЦрзНржпрж╛                               |
| -------------------------------- | -------------------------------------- |
| `element.parentElement`          | ржЙржкрж░рзЗрж░ parent ржЙржкрж╛ржжрж╛ржи                    |
| `element.children`               | рж╕ржм child ржЙржкрж╛ржжрж╛ржи (HTMLCollection ржЖржХрж╛рж░рзЗ) |
| `element.firstElementChild`      | ржкрзНрж░ржержо child ржЙржкрж╛ржжрж╛ржи                     |
| `element.lastElementChild`       | рж╢рзЗрж╖ child ржЙржкрж╛ржжрж╛ржи                       |
| `element.previousElementSibling` | ржЖржЧрзЗрж░ ржнрж╛ржЗ ржЙржкрж╛ржжрж╛ржи                        |
| `element.nextElementSibling`     | ржкрж░рзЗрж░ ржнрж╛ржЗ ржЙржкрж╛ржжрж╛ржи                        |

---

### ЁЯФН ржЙржжрж╛рж╣рж░ржг:

```html
<div class="card">
  <h2 class="title">Hello</h2>
  <p class="desc">Welcome to DOM</p>
</div>
```

```js
const parent = document.querySelector('.card'); // ржбрж┐ржнржЯрж╛ ржзрж░рж▓рж╛ржо

const firstChild = parent.firstElementChild; // <h2>
const next = firstChild.nextElementSibling;  // <p>
const lastChild = parent.lastElementChild;   // ржЖржмрж╛рж░ <p>
const parentOfElement = firstChild.parentElement; // ржЖржмрж╛рж░ .card
```

---

### тЪб ржХрзЗржи Efficient DOM Traversal ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг?

1. **ржкрж╛рж░ржлрж░ржорзЗржирзНрж╕ ржмрж╛рзЬрзЗ** тАФ ржПржХржмрж╛рж░ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржирзЛржб ржзрж░рж▓рзЗ ржмрж╛рж░ржмрж╛рж░ DOM ржЦрзБржБржЬрждрзЗ рж╣рзЯ ржирж╛ред
2. **ржХрзЛржб ржкрж░рж┐рж╖рзНржХрж╛рж░ ржерж╛ржХрзЗ** тАФ ржмрж╛ржмрж╛, ржнрж╛ржЗ, ржЫрзЗрж▓рзЗ ржзрж░рзЗржЗ ржХрж╛ржЬ рж╣рзЯред
3. **ржнрзБрж▓ ржХржо рж╣рзЯ** тАФ рж╕рж░рж╛рж╕рж░рж┐ рж╕ржорзНржкрж░рзНржХ (parent-child-sibling) ржзрж░рж╛рзЯ ржнрзБрж▓ рж╣ржмрж╛рж░ рж╕ржорзНржнрж╛ржмржирж╛ ржХржоред

---

### тЬЕ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржЯрж┐ржкрж╕:

* `parentElement` тАУ ржкрзНржпрж╛рж░рзЗржирзНржЯрзЗрж░ ржЦрзЛржБржЬрзЗ
* `firstElementChild` / `lastElementChild` тАУ рж╕ржирзНрждрж╛ржирзЗрж░ ржЦрзЛржБржЬрзЗ
* `nextElementSibling` / `previousElementSibling` тАУ ржнрж╛ржЗржжрзЗрж░ ржЦрзЛржБржЬрзЗ

---


## тЬЕ Template and Cloning (ржЯрзЗржоржкрзНрж▓рзЗржЯ ржПржмржВ ржХрзНрж▓рзЛржи)

### ЁЯФ╢ Template ржХрзА?

`<template>` ржПржХржЯрж┐ HTML ржЯрзНржпрж╛ржЧ ржпрзЗржЯрж╛ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ рж░рзЗржирзНржбрж╛рж░ рж╣рзЯ ржирж╛ (ржорж╛ржирзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржжрзЗржЦрж╛рзЯ ржирж╛), ржХрж┐ржирзНрждрзБ JavaScript ржжрж┐рзЯрзЗ ржбрж╛рзЯржирж╛ржорж┐ржХржнрж╛ржмрзЗ ржХрзНрж▓рзЛржи ржХрж░рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред

ржПржЯрж╛ рждржЦржиржЗ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗ ржпржЦржи рждрзБржорж┐ ржПржХржЗ ржзрж░ржирзЗрж░ DOM structure ржмрж╛рж░ржмрж╛рж░ рждрзИрж░рж┐ ржХрж░рждрзЗ ржЪрж╛ржУред

---

### ЁЯУж ржЙржжрж╛рж╣рж░ржг: HTML Template

```html
<template id="card-template">
  <div class="card">
    <h2 class="title">Title</h2>
    <p class="desc">Description</p>
  </div>
</template>
```

ЁЯФ╣ ржПржЯрж┐ рж╢рзБржзрзБ ржПржХржЯрж╛ ржиржХрж╢рж╛ ржмрж╛ ржЫрж╛ржБржж тАФ ржПржЯрж╛ рждржЦржирзЛ DOM-ржП ржпрзЛржЧ рж╣рзЯржирж┐ред

---

### ЁЯФБ ржХрзНрж▓рзЛржи ржПржмржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛

```js
const template = document.getElementById('card-template');  // template ржзрж░рж▓рж╛ржо

const clone = template.content.cloneNode(true);  // ржкрзБрж░рзЛ ржЯрзЗржоржкрзНрж▓рзЗржЯ ржХрзНрж▓рзЛржи ржХрж░рж▓рж╛ржо (deep copy)

clone.querySelector('.title').textContent = "DOM Advance Topic";  // ржнрж┐рждрж░рзЗрж░ content ржмржжрж▓
clone.querySelector('.desc').textContent = "Hope you are learning something New";

document.body.appendChild(clone);  // ржПржмрж╛рж░ ржХрзНрж▓рзЛржиржХрзЗ DOM-ржП ржпрзБржХрзНржд ржХрж░рж▓рж╛ржо
```

---

### ЁЯФН ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛:

| ржзрж╛ржк                | ржХрж╛ржЬ                               |
| ------------------ | --------------------------------- |
| `getElementById()` | ржЯрзЗржоржкрзНрж▓рзЗржЯ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рж╛            |
| `template.content` | ржЯрзЗржоржкрзНрж▓рзЗржЯрзЗрж░ ржнрж┐рждрж░рзЗрж░ ржЖрж╕рж▓ ржХржиржЯрзЗржирзНржЯ     |
| `cloneNode(true)`  | ржбрж┐ржк ржХрзНрж▓рзЛржи ржХрж░рж╛ (рж╕ржм child рж╕рж╣)       |
| `querySelector()`  | ржнрж┐рждрж░рзЗрж░ ржПрж▓рж┐ржорзЗржирзНржЯ ржЦрзБржБржЬрзЗ ржорж╛ржи ржмрж╕рж╛ржирзЛ   |
| `appendChild()`    | DOM-ржП рж╕рзЗржЗ ржХрзНрж▓рзЛржиржХрзГржд ржЙржкрж╛ржжрж╛ржи ржпрзЛржЧ ржХрж░рж╛ |

---

### ЁЯза ржХрзЗржи Template ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржм?

тЬЕ Reusable HTML
тЬЕ ржмрж╛рж░ржмрж╛рж░ ржПржХржЗ structure рждрзИрж░рж┐ ржХрж░рждрзЗ
тЬЕ Performance ржнрж╛рж▓рзЛ
тЬЕ Code clean ржУ DRY (DonтАЩt Repeat Yourself)

---

### ЁЯзк ржЙржжрж╛рж╣рж░ржгржГ

рждрзБржорж┐ ржпржжрж┐ рззрзжржЯрж╛ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржХрж╛рж░рзНржб ржмрж╛ ржЗржЙржЬрж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рждрзЗ ржЪрж╛ржУ, рждрж╛рж╣рж▓рзЗ ржкрзНрж░рждрж┐ржЯрж╛ DOM рждрзИрж░рж┐ ржирж╛ ржХрж░рзЗ ржПржХржЯрж╛ template ржмрж╛ржирж┐рзЯрзЗ ржмрж╛рж░ржмрж╛рж░ clone ржХрж░рждрзЗ ржкрж╛рж░рзЛред

---

### тЬи Bonus Tip:

рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ clone ржХрж░рж╛рж░ рж╕ржорзЯ ржПржХржЯрж╛ `loop` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЕржирзЗржХржЧрзБрж▓рзЛ clone рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЛ:

```js
for (let i = 1; i <= 5; i++) {
  const clone = template.content.cloneNode(true);
  clone.querySelector('.title').textContent = `Title ${i}`;
  clone.querySelector('.desc').textContent = `This is item ${i}`;
  document.body.appendChild(clone);
}
```

---

### ЁЯФЪ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

**`<template>`** рж╣ржЪрзНржЫрзЗ ржПржоржи HTML ржХрзЛржб ржпрзЗржЯрж╛ рж░рзЗржирзНржбрж╛рж░ рж╣рзЯ ржирж╛,
**`cloneNode(true)`** ржжрж┐рзЯрзЗ рж╕рзЗржЯрж╛ ржХрзНрж▓рзЛржи ржХрж░рзЗ DOM-ржП ржЕрзНржпрж╛ржб ржХрж░рж╛ рж╣рзЯред

---


---

## тЬЕ Document Fragment (ржбржХрзБржорзЗржирзНржЯ ржлрзНрж░рзНржпрж╛ржЧржорзЗржирзНржЯ)

### ЁЯФ╢ рж╕ржВржЬрзНржЮрж╛:

**Document Fragment** рж╣рж▓рзЛ JavaScript-ржПрж░ ржПржоржи ржПржХржЯрж┐ ржЕрж╕рзНржерж╛рзЯрзА DOM container, ржпрзЗржЯрж╛ **ржорзВрж▓ DOM-ржПрж░ ржЕржВрж╢ ржирзЯ** ржпрждржХрзНрж╖ржг ржирж╛ рждрзБржорж┐ рж╕рзЗржЯрж╛ DOM-ржП ржпрзБржХрзНржд ржХрж░рзЛред

ржПржЗржЯрж╛ ржорзВрж▓ржд performance boost ржХрж░рж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ тАФ ржХрж╛рж░ржг ржмрж╛рж░ржмрж╛рж░ DOM update ржирж╛ ржХрж░рзЗ, ржПржХржЯрж╛ ржлрзНрж░рзНржпрж╛ржЧржорзЗржирзНржЯрзЗрж░ ржнрж┐рждрж░ рж╕ржм рждрзИрж░рж┐ ржХрж░рзЗ рж╢рзЗрж╖рзЗ ржПржХржмрж╛рж░рзЗ DOM-ржП ржпрзБржХрзНржд ржХрж░рж╛ рж╣рзЯред

---

### ЁЯФз Syntax:

```js
const fragment = document.createDocumentFragment();
```

ржПржЯрж╛ ржПржХржЯрж╛ ржЦрж╛рж▓рж┐ container рждрзИрж░рж┐ ржХрж░рзЗред

---

### ЁЯзк ржЙржжрж╛рж╣рж░ржг:

```js
const fragment = document.createDocumentFragment();

for (let i = 0; i <= 3; i++) {
    const li = document.createElement('li');
    li.textContent = `Item ${i}`;
    fragment.appendChild(li);
}

document.getElementById("list").appendChild(fragment);
```

---

### ЁЯУЦ ржмрзНржпрж╛ржЦрзНржпрж╛:

1. **createDocumentFragment()**
   тЖТ ржПржЯрж╛ ржПржХржЯрж┐ ржлрж╛ржБржХрж╛, ржЕрж╕рзНржерж╛рзЯрзА container рждрзИрж░рж┐ ржХрж░рзЗред

2. **loop ржПрж░ ржорж╛ржзрзНржпржорзЗ DOM ржмрж╛ржирж╛ржирзЛ**
   тЖТ ржЖржорж░рж╛ ржПржХрж╛ржзрж┐ржХ `<li>` рждрзИрж░рж┐ ржХрж░ржЫрж┐ ржПржмржВ `fragment` ржП рж░рж╛ржЦржЫрж┐ред

3. **ржПржХржмрж╛рж░рзЗржЗ DOM-ржП ржпрзБржХрзНржд ржХрж░рж╛**
   тЖТ рж╢рзЗрж╖рзЗ `#list` ржПрж░ ржнрж┐рждрж░рзЗ `fragment` ржпрзБржХрзНржд ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред

---

### ЁЯФе ржХрзЗржи Document Fragment ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржм?

| ржХрж╛рж░ржг               | ржмрзНржпрж╛ржЦрзНржпрж╛                                  |
| ------------------ | ----------------------------------------- |
| тЬЕ Performance      | ржПржХрж╛ржзрж┐ржХ DOM update ржирж╛ ржХрж░рзЗ, ржПржХржмрж╛рж░рзЗржЗ ржХрж░рж╛ ржпрж╛рзЯ |
| тЬЕ Memory Efficient | DOM reflow/repaint ржХржо рж╣рзЯ                  |
| тЬЕ Clean Structure  | ржХрзЛржбржУ рж╕рзБржирзНржжрж░ рж╣рзЯ ржПржмржВ ржХрж╛ржЬржУ ржлрж╛рж╕рзНржЯ рж╣рзЯ          |

---

### тЭМ ржпржжрж┐ ржирж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐?

ржпржжрж┐ рждрзБржорж┐ ржПржХржЯрж╛рж░ ржкрж░ ржПржХржЯрж╛ `appendChild()` ржжрж┐рзЯрзЗ DOM-ржП рж╕рж░рж╛рж╕рж░рж┐ ржпрзЛржЧ ржХрж░рзЛ, рждрж╛рж╣рж▓рзЗ ржкрзНрж░рждрж┐ржмрж╛рж░ DOM re-render рж╣ржмрзЗред ржмрзЬ ржбрзЗржЯрж╛ рж▓рзЛржбрзЗ ржПржЯрж╛ ржЕржирзЗржХ рж╕рзНрж▓рзЛ ржХрж░рзЗ ржлрзЗрж▓рзЗред

---

### ЁЯза ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржХрж┐ржЫрзБ ржХржерж╛:

* **Document Fragment ржирж┐ржЬрзЗржЗ DOM-ржП ржжрзЗржЦрж╛ ржпрж╛рзЯ ржирж╛**
* ржХрж┐ржирзНрждрзБ рждрж╛рж░ ржнрзЗрждрж░рзЗрж░ рж╕ржмржХрж┐ржЫрзБ DOM-ржП ржпрзБржХрзНржд рж╣рзЯ
* ржПржЯрж╛ ржПржХржЯрж╛ **temporary holding area**

---

### ЁЯЦ╝я╕П ржзрж░рзЛ рждрзБржорж┐ ржПржХрж╕рж╛ржерзЗ рззрзжрзжржЯрж╛ ржбрж╛ржЯрж╛ рж▓рзЛржб ржХрж░ржЫрзЛ:

```js
function renderList(items) {
  const fragment = document.createDocumentFragment();

  items.forEach(item => {
    const li = document.createElement('li');
    li.textContent = item;
    fragment.appendChild(li);
  });

  document.querySelector('#list').appendChild(fragment);
}
```

ржПржнрж╛ржмрзЗ рждрзБржорж┐ ржмрзЬ ржбрж╛ржЯрж╛ ржЦрзБржм ржжрзНрж░рзБржд DOM-ржП рж░рзЗржирзНржбрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЛред

---

### ЁЯФЪ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

**Document Fragment** рж╣рж▓рзЛ ржПржХ ржзрж░ржирзЗрж░ **ржЦрж╕рзЬрж╛ DOM**, ржпрзЗржЦрж╛ржирзЗ рждрзБржорж┐ DOM рждрзИрж░рж┐ ржХрж░рзЗ рж░рж╛ржЦрзЛ, ржПржмржВ рж╢рзЗрж╖рзЗ ржкрзБрж░рзЛржЯрж╛ ржПржХрж╕рж╛ржерзЗ ржпрзЛржЧ ржХрж░рзЛред

---


---

## тЬЕ `Range` (рж░рзЗржЮрзНржЬ) ржХрж┐?

**`Range`** рж╣рж▓рзЛ JavaScript DOM API-ржПрж░ ржПржХржЯрж┐ ржлрж┐ржЪрж╛рж░, ржпрж╛ ржжрж┐рзЯрзЗ рждрзБржорж┐ HTML ржбржХрзБржорзЗржирзНржЯрзЗрж░ **ржПржХржЯрж┐ ржЕржВрж╢ ржмрж╛ рж╕рж┐рж▓рзЗржХрж╢ржи ржирж┐рж░рзНржзрж╛рж░ржг** ржХрж░рждрзЗ ржкрж╛рж░рзЛ тАФ character-level ржкрж░рзНржпржирзНржд ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж░рзЗред

рждрзБржорж┐ DOM-ржПрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЬрж╛рзЯржЧрж╛ (text, element, ржмрж╛ node) ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ ржЖрж░рзЗржХ ржЬрж╛рзЯржЧрж╛ ржкрж░рзНржпржирзНржд **select**, **modify**, ржмрж╛ **clone** ржХрж░рждрзЗ ржкрж╛рж░рзЛред

---

### ЁЯзк ржЙржжрж╛рж╣рж░ржг:

```html
<p id="para">Hello <strong>DOM</strong> Lover!</p>
```

```js
const p = document.getElementById('para');

const range = document.createRange();

// рж╢рзБрж░рзБ: "Hello " ржПрж░ ржкрж░
range.setStart(p.firstChild, 6); 

// рж╢рзЗрж╖: "Lover!" ржПрж░ ржоржзрзНржпрзЗ 4-ржП
range.setEnd(p.childNodes[2], 4);

const content = range.cloneContents();

console.log(content);
```

---

### ЁЯУЦ ржмрзНржпрж╛ржЦрзНржпрж╛:

| ржзрж╛ржк                      | ржмрзНржпрж╛ржЦрзНржпрж╛                                   |
| ------------------------ | ------------------------------------------ |
| `createRange()`          | ржирждрзБржи `Range` ржЕржмржЬрзЗржХрзНржЯ рждрзИрж░рж┐ ржХрж░рзЛ              |
| `setStart(node, offset)` | ржХрзЛржерж╛ ржерзЗржХрзЗ рж╢рзБрж░рзБ рж╣ржмрзЗ рж╕рзЗржЯрж╛ ржирж┐рж░рзНржзрж╛рж░ржг           |
| `setEnd(node, offset)`   | ржХрзЛржерж╛рзЯ ржЧрж┐рзЯрзЗ рж╢рзЗрж╖ рж╣ржмрзЗ рж╕рзЗржЯрж╛ ржирж┐рж░рзНржзрж╛рж░ржг           |
| `cloneContents()`        | ржР рж░рзЗржЮрзНржЬ-ржПрж░ ржнрзЗрждрж░рзЗрж░ ржХржиржЯрзЗржирзНржЯ ржХржкрж┐ ржХрж░рзЗ ржлрзЗрж░ржд ржжрзЗрзЯ |

---

### ЁЯза ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржкрзЯрзЗржирзНржЯ:

* **Node ржмрж▓рждрзЗ** ржмрзБржЭрж╛рзЯ DOM-ржПрж░ ржПрж▓рж┐ржорзЗржирзНржЯ ржмрж╛ ржЯрзЗржХрзНрж╕ржЯ
* **Offset** ржорж╛ржирзЗ рж╣рж▓рзЛ character ржмрж╛ child node index (0-based)
* `range` ржжрж┐рзЯрзЗ рждрзБржорж┐ `deleteContents()`, `extractContents()`, `insertNode()` ржЗрждрзНржпрж╛ржжрж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЛ

---

### ЁЯЫая╕П ржЖрж░ржУ ржХрж┐ржЫрзБ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЬрж╛рзЯржЧрж╛:

| ржХрж╛ржЬ              | ржорзЗржержб                |
| ---------------- | ------------------- |
| ржХржкрж┐ ржХрж░рж╛          | `cloneContents()`   |
| ржорзБржЫрзЗ ржлрзЗрж▓рж╛        | `deleteContents()`  |
| ржХрзЗржЯрзЗ ржирзЗржУрзЯрж╛ (cut) | `extractContents()` |
| ржЗржирж╕рж╛рж░рзНржЯ ржХрж░рж╛      | `insertNode(node)`  |

---

### ЁЯзЩтАНтЩВя╕П ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗрж░ ржЙржкржпрзЛржЧрж┐рждрж╛:

тЬЕ Text editor ржмрж╛ржирж╛рждрзЗ
тЬЕ Custom text selection highlight
тЬЕ Text replace ржмрж╛ annotate ржХрж░рждрзЗ
тЬЕ Drag & drop ржмрж╛ copy paste system ржХрж░рждрзЗ

---

### ЁЯФЪ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

* `Range` ржжрж┐рзЯрзЗ рждрзБржорж┐ DOM-ржПрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЕржВрж╢ ржзрж░рждрзЗ ржкрж╛рж░рзЛред
* ржПржЯрж╛ ржорзВрж▓ржд text-based ржПржмржВ **high precision selection tool**ред
* ржПржХрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ modify, clone, delete ржмрж╛ insert ржХрж░рж╛ ржпрж╛рзЯред

---
---

## тЬЕ Shadow DOM ржХрзА?

**Shadow DOM** рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ DOM tree ржпрзЗржЯрж╛ ржорзВрж▓ DOM (Main Document DOM)-ржПрж░ ржмрж╛ржЗрж░рзЗ ржЧржаржи ржХрж░рж╛ рж╣рзЯ, ржПржмржВ рж╕рзЗржЯрж┐ **encapsulated/private** тАФ ржорж╛ржирзЗ ржмрж╛ржЗрж░рзЗрж░ CSS ржмрж╛ JS рждрж╛рж░ ржнрж┐рждрж░рзЗрж░ ржХрж┐ржЫрзБржХрзЗ ржжрзЗржЦрждрзЗ ржмрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛ред

ржПржЯрж╛ ржУрзЯрзЗржм ржХржорзНржкрзЛржирзЗржирзНржЯ рждрзИрж░рж┐рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯ, ржпрзЗржЦрж╛ржирзЗ ржПржХрзЗржХржЯрж╛ ржХржорзНржкрзЛржирзЗржирзНржЯ ржерж╛ржХрзЗ ржирж┐ржЬрзЗрж░ рж╕рзНржЯрж╛ржЗрж▓, ржирж┐ржЬрзЗрж░ behavior рж╕рж╣ ржПржХржжржо ржЖрж▓рж╛ржжрж╛ред

---

### ЁЯУж ржЙржжрж╛рж╣рж░ржг:

```html
<div id="box"></div>
```

```js
const shadowHost = document.getElementById('box');

// рж╢рзНржпрж╛ржбрзЛ рж░рзБржЯ рждрзИрж░рж┐ ржХрж░рж▓рж╛ржо
const shadow = shadowHost.attachShadow({ mode: 'open' });

// ржПрж░ ржнрж┐рждрж░рзЗ ржХрж┐ржЫрзБ HTML ржПржмржВ CSS ржжрж┐рж▓рж╛ржо
shadow.innerHTML = `
  <style>
    p {
      color: red;
      font-weight: bold;
    }
  </style>
  <p>Hello Shadow!</p>
`;
```

---

### ЁЯУЦ ржмрзНржпрж╛ржЦрзНржпрж╛:

| ржЕржВрж╢                         | ржХрж╛ржЬ                                          |
| --------------------------- | -------------------------------------------- |
| `shadowHost.attachShadow()` | рж╢рзНржпрж╛ржбрзЛ DOM рждрзИрж░рж┐ ржХрж░рж╛ рж╣рзЯ                       |
| `{ mode: "open" }`          | ржмрж╛ржЗрж░рзЗрж░ JS ржерзЗржХрзЗ shadow DOM access ржХрж░рж╛ ржпрж╛ржмрзЗ    |
| `innerHTML`                 | shadow DOM-ржПрж░ ржнрж┐рждрж░рзЗрж░ HTML ржУ CSS ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ |

---

### ЁЯФР Shadow DOM Modes:

| Mode     | Access                                           |
| -------- | ------------------------------------------------ |
| `open`   | ржмрж╛ржЗрж░рзЗрж░ JS ржерзЗржХрзЗ access ржХрж░рж╛ ржпрж╛ржмрзЗ (ржЙржжрж╛рж╣рж░ржгрзЗ ржмрзНржпржмрж╣рзГржд) |
| `closed` | ржмрж╛ржЗрж░рзЗрж░ JS ржерзЗржХрзЗ shadow DOM access ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛     |

---

### ЁЯза ржХрзЗржи Shadow DOM ржжрж░ржХрж╛рж░?

тЬЕ CSS/JS Isolation
тЬЕ Code Encapsulation
тЬЕ Custom Web Components ржмрж╛ржирж╛ржирзЛ
тЬЕ ржирж╛ржорзЗрж░ conflict ржПрзЬрж╛ржирзЛ (e.g., `.btn` ржХрзНрж▓рж╛рж╕ рж╕ржм ржЬрж╛рзЯржЧрж╛рзЯ affect ржирж╛ ржХрж░рж╛)

---

### ЁЯЫая╕П Practical Use Case:

ржзрж░рзЛ рждрзБржорж┐ ржПржоржи ржПржХржЯрж╛ button ржмрж╛ржирж╛рж▓рзЗ ржпрзЗржЯрж╛ stylish, animation рж╕рж╣ тАФ ржЖрж░ рж╕рзЗржЯрж╛ ржЕржирзНржпржжрзЗрж░ ржУрзЯрзЗржмрж╕рж╛ржЗржЯрзЗржУ ржХрж╛ржЬ ржХрж░ржмрзЗред
Shadow DOM ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рждрзБржорж┐ **internal CSS/JS scope**-ржП рж╕рзЗржЯрж╛ржХрзЗ ржПржХржжржо ржЖрж▓рж╛ржжрж╛ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЛред

---

### тЪая╕П рж╕рж╛ржзрж╛рж░ржг DOM vs Shadow DOM:

| ржмрж┐рж╖рзЯ          | рж╕рж╛ржзрж╛рж░ржг DOM                | Shadow DOM          |
| ------------- | ------------------------- | ------------------- |
| Global effect | рж╣рзНржпрж╛ржБ, рж╕ржм ржХрж┐ржЫрзБ affect ржХрж░рзЗ | ржирж╛, рж╢рзБржзрзБ ржирж┐ржЬрзЗрж░ ржнрж┐рждрж░ |
| CSS leakage   | рж╣рзЯ                        | рж╣рзЯ ржирж╛               |
| Reusability   | ржХржо                        | ржмрзЗрж╢рж┐                |
| ржирж┐рж░рж╛ржкрждрзНрждрж╛     | рж╕рж╛ржзрж╛рж░ржг                    | ржмрзЗрж╢рж┐ encapsulated   |

---

### ЁЯФЪ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

* Shadow DOM = **ржирж┐ржЬрж╕рзНржм private DOM tree**
* ржмрж╛ржЗрж░рзЗрж░ CSS/JS ржПрж░ ржХрзЛржи ржкрзНрж░ржнрж╛ржм ржкрзЬрзЗ ржирж╛
* Web Component ржмрж╛ Custom UI ржмрж╛ржирж╛рждрзЗ ржЦрзБржм ржжрж░ржХрж╛рж░рж┐

---

---

## тЬЕ Advanced Class Manipulation (ржЙржирзНржирждрждрж░ ржХрзНрж▓рж╛рж╕ ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗрж╢ржи)

HTML ржПрж▓рж┐ржорзЗржирзНржЯрзЗ CSS ржХрзНрж▓рж╛рж╕ **ржпрзЛржЧ ржХрж░рж╛**, **рж╕рж░рж╛ржирзЛ**, **ржЯржЧрж▓ ржХрж░рж╛**, ржмрж╛ **ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ ржЕржирзНржп ржХрзНрж▓рж╛рж╕рзЗ ржкрж░рж┐ржмрж░рзНрждржи** ржХрж░рж╛ тАФ рж╕ржмржЗ ржХрж░рж╛ ржпрж╛рзЯ JavaScript ржжрж┐рзЯрзЗ `classList` ржкрзНрж░рзЛржкрж╛рж░рзНржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

---

### ЁЯФз Syntax:

```js
const element = document.querySelector('.btn');
```

---

### ЁЯФ╣ `classList.add("className")`

ржПржХржЯрж┐ ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржХрзНрж▓рж╛рж╕ ржпрзЛржЧ ржХрж░рзЗред

```js
element.classList.add('active');
```

тЮбя╕П `active` ржХрзНрж▓рж╛рж╕ DOM-ржП ржпрзЛржЧ рж╣ржмрзЗред

---

### ЁЯФ╣ `classList.remove("className")`

ржПржХржЯрж┐ ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржХрзНрж▓рж╛рж╕ ржорзБржЫрзЗ ржлрзЗрж▓рзЗред

```js
element.classList.remove('disabled');
```

тЮбя╕П `disabled` ржХрзНрж▓рж╛рж╕ ржорзБржЫрзЗ ржпрж╛ржмрзЗ ржпржжрж┐ ржерж╛ржХрзЗред

---

### ЁЯФ╣ `classList.toggle("className")`

ржХрзНрж▓рж╛рж╕ ржирж╛ ржерж╛ржХрж▓рзЗ **ржпрзЛржЧ ржХрж░рзЗ**, ржерж╛ржХрж▓рзЗ **рж╕рж░рж┐рзЯрзЗ ржлрзЗрж▓рзЗ**ред

```js
element.classList.toggle('visible');
```

тЮбя╕П ржПржЯрж┐ ржХрзНрж▓рж┐ржХ ржХрж░рж╛рж░ рж╕ржорзЯ ржжрзЗржЦрж╛ ржпрж╛рзЯ/рж▓рзБржХрж╛ржирзЛ ржпрж╛рзЯ ржПржоржи effect ржмрж╛ржирж╛рждрзЗ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗред

---

### ЁЯФ╣ `classList.replace("oldClass", "newClass")`

ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ржХрзЗ ржЕржирзНржп ржХрзНрж▓рж╛рж╕рзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗред

```js
element.classList.replace('error', 'success');
```

тЮбя╕П `error` ржерж╛ржХрж▓рзЗ рж╕рзЗржЯрж╛ рж╕рж░рж┐рзЯрзЗ `success` ржпрзЛржЧ ржХрж░ржмрзЗред

---

### ЁЯза ржЙржжрж╛рж╣рж░ржг:

```js
const btn = document.querySelector('.btn');

btn.classList.add('active');           // "active" ржпрзЛржЧ ржХрж░рж▓рзЛ
btn.classList.remove('disabled');      // "disabled" рж╕рж░рж╛рж▓рзЛ
btn.classList.toggle('visible');       // ржерж╛ржХрж▓рзЗ рж╕рж░рж╛ржмрзЗ, ржирж╛ ржерж╛ржХрж▓рзЗ ржпрзЛржЧ ржХрж░ржмрзЗ
btn.classList.replace('error', 'success'); // "error" ржХрзЗ "success" ржП ржкрж░рж┐ржмрж░рзНрждржи
```

---

### ЁЯзк HTML ржЙржжрж╛рж╣рж░ржг:

```html
<button class="btn error disabled">Click Me</button>
```

ржПржЦржи JavaScript-ржП ржХрзНрж▓рж╛рж╕ржЧрзБрж▓рзЛ ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗржЯ ржХрж░рзЗ style, animation, ржмрж╛ behavior ржирж┐рзЯржирзНрждрзНрж░ржг ржХрж░рж╛ ржпрж╛ржмрзЗред

---

### ЁЯФе Advanced Use:

```js
if (!btn.classList.contains('active')) {
  btn.classList.add('active');
}
```

ЁЯСЙ `.contains('className')` ржжрж┐рзЯрзЗ ржЪрзЗржХ ржХрж░рж╛ ржпрж╛рзЯ ржХрзЛржирзЛ ржХрзНрж▓рж╛рж╕ ржЖржЫрзЗ ржХрж┐ржирж╛ред

---

### ЁЯОп ржХрзЛржерж╛рзЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ?

| ржХрзНрж╖рзЗрждрзНрж░           | ржХрж╛ржЬ                               |
| ----------------- | --------------------------------- |
| UI toggle         | show/hide section                 |
| Form validation   | error/success ржХрзНрж▓рж╛рж╕ ржжрзЗржУрзЯрж╛         |
| Button states     | active/disabled toggle            |
| Animation trigger | ржХрзНрж▓рж╛рж╕ ржжрж┐рзЯрзЗ CSS animation ржЪрж╛рж▓рзБ ржХрж░рж╛ |

---

### ЁЯФЪ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

| ржорзЗржержб         | ржХрж╛ржЬ                    |
| ------------ | ---------------------- |
| `add()`      | ржХрзНрж▓рж╛рж╕ ржпрзЛржЧ              |
| `remove()`   | ржХрзНрж▓рж╛рж╕ рж╕рж░рж╛ржирзЛ            |
| `toggle()`   | ржХрзНрж▓рж╛рж╕ ржЯржЧрж▓ ржХрж░рж╛          |
| `replace()`  | ржХрзНрж▓рж╛рж╕ ржкрж░рж┐ржмрж░рзНрждржи         |
| `contains()` | ржХрзНрж▓рж╛рж╕ ржЖржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рж╛ |

---


---

## тЬЕ Handling Large-Scale DOM Updates (ржмрзЬ DOM ржЖржкржбрзЗржЯ ржкрж░рж┐ржЪрж╛рж▓ржирж╛)

### ЁЯФ╢ рж╕ржорж╕рзНржпрж╛ржЯрж╛ ржХрзА?

ржпржЦржи рждрзБржорж┐ ржЕржирзЗржХржЧрзБрж▓рзЛ DOM element (ржпрзЗржоржи рззрзжрзжрзжржЯрж╛ `div` ржмрж╛ `li`) **рж╕рж░рж╛рж╕рж░рж┐ DOM ржП ржПржХржЯрж╛рж░ ржкрж░ ржПржХржЯрж╛** ржпрзЛржЧ ржХрж░рзЛ, рждржЦржи ржкрзНрж░рждрзНржпрзЗржХржмрж╛рж░ DOM рж░рж┐-рж░рзЗржирзНржбрж╛рж░ (reflow/repaint) рж╣рзЯ тАФ ржлрж▓рзЗ ржкрзЗржЬ рж╕рзНрж▓рзЛ рж╣рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред

---

### ЁЯФз рж╕ржорж╛ржзрж╛ржи: Use `DocumentFragment`

рждрзБржорж┐ ржкрзНрж░ржержорзЗ рж╕ржм ржЙржкрж╛ржжрж╛ржи `DocumentFragment`-ржП рждрзИрж░рж┐ ржХрж░рзЗ рж░рж╛ржЦрзЛ, рждрж╛рж░ржкрж░ ржПржХржмрж╛рж░рзЗржЗ DOM-ржП ржпрзБржХрзНржд ржХрж░рзЛред

---

### ЁЯзк ржЙржжрж╛рж╣рж░ржг:

```js
function addItems(count) {
  const frag = document.createDocumentFragment();

  for (let i = 0; i < count; i++) {
    const div = document.createElement('div');
    div.textContent = `Item ${i}`;
    frag.appendChild(div); // DOM-ржП ржирзЯ, fragment-ржП рж░рж╛ржЦржЫрж┐
  }

  document.body.appendChild(frag); // рж╢рзЗрж╖рзЗ ржПржХржмрж╛рж░рзЗ DOM-ржП ржпрзБржХрзНржд
}

addItems(1000); // рззрзжрзжрзжржЯрж╛ ржбрж┐ржн ржжрзНрж░рзБржд ржпрзЛржЧ
```

---

### ЁЯза ржмрзНржпрж╛ржЦрзНржпрж╛:

| ржзрж╛ржк                        | ржХрзА рж╣ржЪрзНржЫрзЗ                                |
| -------------------------- | --------------------------------------- |
| `createDocumentFragment()` | ржЕрж╕рзНржерж╛рзЯрзА DOM container рждрзИрж░рж┐              |
| Loop ржХрж░рзЗ `div` ржмрж╛ржирж╛ржирзЛ      | ржХрж┐ржирзНрждрзБ DOM-ржП ржирж╛ ржжрж┐рзЯрзЗ ржлрзНрж░рзНржпрж╛ржЧржорзЗржирзНржЯрзЗ рж░рж╛ржЦрж╛ |
| ржПржХржмрж╛рж░рзЗ `appendChild(frag)` | рж╕ржмржХрж┐ржЫрзБ ржПржХрж╕рж╛ржерзЗ DOM-ржП ржпрзБржХрзНржд рж╣ржЪрзНржЫрзЗ         |

---

### ЁЯУИ Performance ржХрзЗржи ржмрж╛рзЬрзЗ?

* ржкрзНрж░рждрж┐ рж▓рзБржк iteration-ржП DOM update ржирж╛ рж╣ржУрзЯрж╛рзЯ browser ржмрж╛рж░ржмрж╛рж░ render ржХрж░рзЗ ржирж╛
* рж╢рзБржзрзБ ржПржХржмрж╛рж░рзЗржЗ render ржХрж░рзЗ
* ржПржЯрж╛ ржХржо **reflow/repaint cycle** рждрзИрж░рж┐ ржХрж░рзЗ
* ржПрж░ ржлрж▓рзЗ performance ржЕржирзЗржХ ржмрзЗрж╢рж┐ ржнрж╛рж▓рзЛ рж╣рзЯ

---

### ЁЯзк Without fragment тАУ Performance ржХржо:

```js
for (let i = 0; i < 1000; i++) {
  const div = document.createElement('div');
  div.textContent = `Item ${i}`;
  document.body.appendChild(div); // ржкрзНрж░рждрзНржпрзЗржХржмрж╛рж░ DOM ржЖржкржбрзЗржЯ!
}
```

ржПржЗржЯрж╛ ржХрж░рж▓рзЗ ржкрзНрж░рждрж┐ржЯрж╛ рж▓рзБржк DOM-ржП insert ржХрж░рзЗ, рждрж╛ржЗ ржЧрждрж┐ ржХржорзЗ ржпрж╛рзЯред

---

### ЁЯОп ржмрж╛рж╕рзНрждржм ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЬрж╛рзЯржЧрж╛:

| Use case         | Example                                 |
| ---------------- | --------------------------------------- |
| Chat messages    | рззрзжрзжрзж+ message render                    |
| Product list     | ржмрзЬ ржЗ-ржХржорж╛рж░рзНрж╕ рж╕рж╛ржЗржЯрзЗ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ рж▓рзЛржб         |
| Comments section | Lazy load ржмрж╛ paginate ржХрж░рж╛ ржХржорзЗржирзНржЯ        |
| Data dashboard   | рж░рж┐рзЯрзЗрж▓-ржЯрж╛ржЗржо рж░рж┐ржкрзЛрж░рзНржЯ, ржЪрж╛рж░рзНржЯ, ржЙржкрж╛ржжрж╛ржи ржЖржкржбрзЗржЯ |

---

### ЁЯза Bonus Tips:

* рж╢рзБржзрзБ `DocumentFragment` ржирзЯ, Virtual DOM (React/Vue) ржмрж╛ diffing algorithm ржУ performance ржмрж╛рзЬрж╛рзЯ
* Lazy loading ржмрж╛ pagination ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржЖрж░ржУ efficient рж╣рзЯ

---

### ЁЯФЪ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

* ржмрзЬ DOM update ржПржХржмрж╛рж░рзЗ ржХрж░рзЛ, ржмрж╛рж░ржмрж╛рж░ ржирзЯ
* **DocumentFragment** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ DOM-ржП ржПржХржмрж╛рж░рзЗ insert ржХрж░рзЛ
* ржПрждрзЗ performance ржЕржирзЗржХ ржнрж╛рж▓рзЛ рж╣рзЯ ржПржмржВ user experience ржЙржирзНржиржд рж╣рзЯ

---

---

## тЬЕ Mutation Observer (ржбржо ржкрж░рж┐ржмрж░рзНрждржи ржоржирж┐ржЯрж░) ржХрзА?

`MutationObserver` рж╣рж▓рзЛ JavaScript-ржПрж░ ржПржХржЯрж┐ **ржмрж┐рж▓рзНржЯ-ржЗржи API**, ржпрзЗржЯрж╛ ржжрж┐рзЯрзЗ рждрзБржорж┐ ржЬрж╛ржирждрзЗ ржкрж╛рж░рзЛ DOM-ржП ржХрзЛржирзЛ ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯрзЗржЫрзЗ ржХрж┐ржирж╛ред

ржПржЯрж╛ DOM-ржПрж░ ржкрж░рж┐ржмрж░рзНрждржи **observe/watch** ржХрж░рзЗ, ржПржмржВ ржкрж░рж┐ржмрж░рзНрждржи ржШржЯрж▓рзЗржЗ рждрзЛржорж╛рж░ ржирж┐рж░рзНржзрж╛рж░рж┐ржд callback ржлрж╛ржВрж╢ржи ржЪрж╛рж▓рж╛рзЯред

---

### ЁЯУж ржмрзНржпржмрж╣рж╛рж░ ржХржЦржи ржжрж░ржХрж╛рж░?

тЬЕ ржХрзЗржЙ DOM-ржП ржирждрзБржи element ржпрзЛржЧ ржХрж░рж▓рзЗ
тЬЕ ржХрзЛржирзЛ attribute ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣рж▓рзЗ
тЬЕ ржЯрзЗржХрзНрж╕ржЯ ржХржиржЯрзЗржирзНржЯ ржмржжрж▓рж╛рж▓рзЗ
тЬЕ SPA/React/Vue ржЕрзНржпрж╛ржкрзЗ DOM ржбрж╛рзЯржирж╛ржорж┐ржХржнрж╛ржмрзЗ ржмржжрж▓рж╛рж▓рзЗ

---

### ЁЯФз ржЙржжрж╛рж╣рж░ржг ржХрзЛржб:

```js
const target = document.getElementById('watchMe');

// observer рждрзИрж░рж┐
const observer = new MutationObserver((mutationsList) => {
  for (const mutation of mutationsList) {
    console.log(`Mutation type: ${mutation.type}`);

    if (mutation.type === 'childList') {
      console.log('тЬЕ A child node was added or removed.');
    }

    if (mutation.type === 'attributes') {
      console.log(`ЁЯФз Attribute changed: ${mutation.attributeName}`);
    }

    if (mutation.type === 'characterData') {
      console.log(`тЬПя╕П Text changed to: ${mutation.target.data}`);
    }
  }
});

// ржХрзЛржи ржХрзЛржи ржкрж░рж┐ржмрж░рзНрждржи ржжрзЗржЦрждрзЗ ржЪрж╛ржУ тАФ рж╕рзЗржЯрж╛ ржХржиржлрж┐ржЧрж╛рж░
const config = {
  childList: true,
  attributes: true,
  characterData: true,
  subtree: true,
};

// observer ржЪрж╛рж▓рзБ ржХрж░рзЛ
observer.observe(target, config);
```

---

### ЁЯФД DOM ржкрж░рж┐ржмрж░рзНрждржи:

```js
function changeDOM() {
  target.textContent = "Goodbye!";
  target.setAttribute("data-status", "Changed");
}
```

тЮбя╕П ржПржЗ ржлрж╛ржВрж╢ржи DOM ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ `MutationObserver` рж╕рзЗржЯрж╛ detect ржХрж░рзЗ ржХржирж╕рзЛрж▓рзЗ рж░рж┐ржкрзЛрж░рзНржЯ ржХрж░ржмрзЗред

---

### ЁЯза ржмрзНржпрж╛ржЦрзНржпрж╛:

| ржЕржВрж╢                       | ржмрзНржпрж╛ржЦрзНржпрж╛                          |
| ------------------------- | --------------------------------- |
| `MutationObserver()`      | ржирждрзБржи observer рждрзИрж░рж┐                |
| `observe(target, config)` | ржХрзЛржи DOM ржУ ржХрзЛржи ржкрж░рж┐ржмрж░рзНрждржиржЧрзБрж▓рзЛ ржжрзЗржЦржмрзЗ  |
| `mutationsList`           | ржпрзЗрж╕ржм ржкрж░рж┐ржмрж░рзНрждржи рж╣рзЯрзЗржЫрзЗ, рждрж╛ржжрзЗрж░ рждрж╛рж▓рж┐ржХрж╛ |
| `subtree: true`           | ржЯрж╛рж░рзНржЧрзЗржЯрзЗрж░ ржнрж┐рждрж░рзЗрж░ DOM-ржУ ржжрзЗржЦржмрзЗ      |

---

### ЁЯФН config ржПрж░ ржЕржкрж╢ржи:

| ржЕржкрж╢ржи                  | ржорж╛ржирзЗ                         |
| --------------------- | ---------------------------- |
| `childList: true`     | element ржпрзЛржЧ/рж╕рж░рж╛ржирзЛ ржжрзЗржЦржмрзЗ      |
| `attributes: true`    | attribute ржкрж░рж┐ржмрж░рзНрждржи ржжрзЗржЦржмрзЗ     |
| `characterData: true` | ржЯрзЗржХрзНрж╕ржЯ ржкрж░рж┐ржмрж░рзНрждржи ржжрзЗржЦржмрзЗ        |
| `subtree: true`       | рж╕ржм nested child рж╕рж╣ ржжрзЗржЦрждрзЗ ржЪрж╛ржУ |

---

### ЁЯФЪ рж╕ржВржХрзНрж╖рзЗржкрзЗ:

* `MutationObserver` ржжрж┐рзЯрзЗ DOM-ржПрж░ **ржкрж░рж┐ржмрж░рзНрждржи ржЦрзБржБржЬрзЗ ржмрзЗрж░** ржХрж░рж╛ ржпрж╛рзЯ
* Callback ржлрж╛ржВрж╢ржирзЗ рж╕рзЗржЗ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ
* ржПржЯрж┐ performance-friendly ржПржмржВ ржЗржнрзЗржирзНржЯ-ржнрж┐рждрзНрждрж┐ржХ (ржмрж┐ржкрж░рзАрждрзЗ `setInterval()`-ржПрж░ ржорждрзЛ ржирзЯ)

---


